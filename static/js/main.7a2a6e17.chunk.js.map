{"version":3,"sources":["Components/Navbar/NavbarElements.js","Components/Navbar/Sidebar/SidebarCss.js","Context/auth/authContext.js","Components/Navbar/logo.png","Components/Navbar/Navbar.js","Components/Navbar/Sidebar/Sidebar.js","App.js","reportWebVitals.js","Context/types.js","Context/auth/authReducer.js","util/setAuthToken.js","Context/auth/AuthState.js","index.js"],"names":["Nav","styled","nav","NavLink","Link","props","color","Bars","FaBars","NavMenu","div","NavBtn","NavBtnLink","margin","NavBtnLinkDiv","SidebarContainer","aside","isOpen","CloseIcon","FaTimes","Icon","SidebarWrapper","SidebarLink","SideBtnWrap","Skip","SidebarMenu","ul","authContext","createContext","Navbar","toggle","useContext","AuthContext","isAuthenticated","logout","to","style","width","height","src","logo","alt","marginLeft","onClick","activeStyle","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","marginRight","fontSize","Sidebar","ProfilePage","lazy","Requests","UserPage","ListOfRequests","Donors","ChangeImage","RequestBloodForm","ListOfDonors","Auth","queryClient","QueryClient","App","loadUser","useState","setIsOpen","useEffect","QueryClientProvider","client","className","fallback","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","REGISTER_SUCCESS","REGISTER_FAIL","USER_LOADED","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","CLEAR_ERRORS","AUTH_ERROR_GET_ME","state","action","type","loading","user","payload","localStorage","setItem","token","error","removeItem","setAuthToken","console","log","axios","defaults","headers","common","AuthState","initialState","getItem","useReducer","authReducer","dispatch","a","get","res","data","register","formData","config","post","response","login","Provider","value","clearErrors","children","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7a2a6e17.chunk.js","sourcesContent":["import { FaBars } from 'react-icons/fa';\r\nimport { NavLink as Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nexport const Nav = styled.nav`\r\n  background: linear-gradient(180deg, #D31027, #EA384D);\r\n  height: 80px;\r\n  display: flex;\r\n  -webkit-box-shadow: 5px 5px 19px 1px rgba(0,0,0,0.35); \r\nbox-shadow: 5px 5px 19px 1px rgba(0,0,0,0.35);\r\n  justify-content: space-between;\r\n  padding: 0.5rem calc((100vw - 1000px) / 2);\r\n  z-index: 10;\r\n  font-family: 'SolaimanLipi', sans-serif;\r\n\r\n  /* Third Nav */\r\n  /* justify-content: flex-start; */\r\n`;\r\n\r\nexport const NavLink = styled(Link)`\r\n  color: ${props=>props.color?props.color:\"#fff\"};\r\n  display: flex;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  padding: 0 1rem;\r\n  height: 100%;\r\n  cursor: pointer;\r\n  img{\r\n    width: 60px;\r\n  }\r\n`;\r\n\r\nexport const Bars = styled(FaBars)`\r\n  display: none;\r\n  color: #fff;\r\n\r\n  @media screen and (max-width: 768px) {\r\n    display: block;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    transform: translate(-100%, 75%);\r\n    font-size: 1.8rem;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const NavMenu = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: -24px;\r\n\r\n  /* Second Nav */\r\n  /* margin-right: 24px; */\r\n\r\n  /* Third Nav */\r\n  /* width: 100vw;\r\n  white-space: nowrap; */\r\n\r\n  @media screen and (max-width: 768px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const NavBtn = styled.nav`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: 24px;\r\n\r\n  /* Third Nav */\r\n  /* justify-content: flex-end;\r\n  width: 100vw; */\r\n\r\n  @media screen and (max-width: 768px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const NavBtnLink = styled(Link)`\r\n  border-radius: 4px;\r\n  background: #fefe33;\r\n  padding: 10px 22px;\r\n  color: #000;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-in-out;\r\n  text-decoration: none;\r\n  margin-top: ${({margin}) => (margin ? '10px' : '0')};\r\n  /* Second Nav */\r\n  margin-left: 24px;\r\n\r\n  &:hover {\r\n    transition: all 0.2s ease-in-out;\r\n    background: #fff;\r\n    color: #010606;\r\n  }\r\n`;\r\nexport const NavBtnLinkDiv = styled.div`\r\n  border-radius: 4px;\r\n  background: #fefe33;\r\n  padding: 10px 22px;\r\n  color: #000;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-in-out;\r\n  text-decoration: none;\r\n\r\n  /* Second Nav */\r\n  margin-left: 24px;\r\n\r\n  &:hover {\r\n    transition: all 0.2s ease-in-out;\r\n    background: #fff;\r\n    color: #010606;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\nimport {FaTimes} from \"react-icons/all\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport const SidebarContainer = styled.aside`\r\n  position: fixed;\r\n  z-index: 999;\r\n  width: 50%;\r\n  height: 100%;\r\n  background: #0d0d0d;\r\n  display: grid;\r\n  align-items: center;\r\n  left: 50%;\r\n  transition: 0.3s ease-in-out;\r\n    opacity: ${({isOpen}) => (isOpen ? '100%' : '0')};\r\n    top: ${({isOpen}) => (isOpen ? '0' : '-100%')};\r\n`\r\nexport const CloseIcon = styled(FaTimes)`\r\n  color: #ffffff`\r\nexport const Icon = styled.div`\r\n  position: absolute;\r\n  top: 1.2rem;\r\n  right: 1.5rem;\r\n  background: transparent;\r\n  font-size: 2rem;\r\n  outline: none;\r\n  &:hover{\r\n    cursor: pointer;\r\n  }\r\n`\r\nexport const SidebarWrapper = styled.div`\r\n  color: #ffffff;\r\n  \r\n`\r\nexport const SidebarLink = styled(Link)`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 1.3rem;\r\n  margin-right:20px;\r\n  margin-top:50px;\r\n  text-decoration: none;\r\n  list-style: none;\r\n  transition: 0.2s ease-in-out;\r\n  color: #ffffff;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    color: #01bf71;\r\n    transition: 0.2s ease-in-out;\r\n  }\r\n\r\n`\r\nexport const SideBtnWrap = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  \r\n  \r\n`\r\nexport const SidebarRoute=styled(Link)`\r\n  margin-top: 500px;\r\n  margin-left: 70%;\r\n  border-radius: 50px;\r\n  background: ${(props)=>props.color?'#4436d4':'#01bf71'};\r\n  white-space: nowrap;\r\n  padding: 15px 64px;\r\n  color: #010606;\r\n  font-size: 16px;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-in-out;\r\n  text-decoration: none;\r\n  &:hover{\r\n    transition: all 0.2s ease-in-out;\r\n    background: #ffffff;\r\n    color: #010606;\r\n  }\r\n`\r\nexport const Skip=styled.div`\r\n  margin-top: 35px;\r\n  background: #574BCF;\r\n  white-space: nowrap;\r\n  padding: 15px 64px;\r\n  color: #010606;\r\n  font-size: 16px;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-in-out;\r\n  text-decoration: none;\r\n\r\n  &:hover {\r\n    transition: all 0.2s ease-in-out;\r\n    background: #fff;\r\n    color: #010606;\r\n  }\r\n`\r\nexport const SidebarMenu=styled.ul`\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-template-rows: repeat(6,80px);\r\n  text-align: center;\r\n  @media screen and (max-width: 400px){\r\n    grid-template-rows: repeat(6,60px);\r\n  }\r\n`","import { createContext } from 'react';\r\n\r\nconst authContext = createContext();\r\n\r\nexport default authContext;\r\n","export default __webpack_public_path__ + \"static/media/logo.706b3f50.png\";","import React,{useContext} from 'react';\r\nimport {\r\n    Nav,\r\n    NavLink,\r\n    Bars,\r\n    NavMenu,\r\n    NavBtn,\r\n    NavBtnLink, NavBtnLinkDiv\r\n} from './NavbarElements';\r\nimport {FaUser} from \"react-icons/all\";\r\nimport logo from './logo.png'\r\nimport AuthContext from \"../../Context/auth/authContext\";\r\nimport {toast} from \"react-toastify\";\r\n\r\nconst Navbar = ({toggle}) => {\r\n    const authContext=useContext(AuthContext);\r\n    const {isAuthenticated,logout}=authContext;\r\n    const logMeOut=()=>{\r\n        toast.success(\"You have been logged out\", {\r\n            position: \"top-center\",\r\n            autoClose: 2000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n        });\r\n        logout()\r\n    }\r\n    return (\r\n        <>\r\n            <Nav>\r\n                <NavLink to='/' >\r\n                    <img style={{width:100,height:80}} src={logo} alt='logo'/>\r\n                    <h3 style={{marginLeft:10}}>মানবিক নরসিংদী</h3>\r\n                </NavLink>\r\n                <Bars onClick={toggle}/>\r\n                <NavMenu>\r\n                    <NavLink to='/' >\r\n                        Find Requests\r\n                    </NavLink>\r\n                    <NavLink to='/donors' activeStyle>\r\n                        Find donors\r\n                    </NavLink>\r\n                    <NavLink to='/request' activeStyle>\r\n                        Request For Blood\r\n                    </NavLink>\r\n                    {/* <NavLink to='faq' activeStyle>\r\n                        FAQ\r\n                    </NavLink> */}\r\n                    {/* Second Nav */}\r\n                </NavMenu>\r\n                <NavBtn>\r\n                    {isAuthenticated ? (<NavBtnLinkDiv onClick={logMeOut}>Logout</NavBtnLinkDiv>) :\r\n                        (<NavBtnLink to='/login'><FaUser style={{marginRight:10,fontSize:18}}/>Sign In / Signup</NavBtnLink>)}\r\n                    {isAuthenticated&&<NavBtnLink to='/requests'>My Requests</NavBtnLink>}\r\n                </NavBtn>\r\n            </Nav>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, {useContext} from 'react';\r\nimport {\r\n    CloseIcon,\r\n    Icon,\r\n    SidebarContainer,\r\n    SidebarWrapper,\r\n    SidebarLink,\r\n    SidebarRoute,\r\n    SideBtnWrap,\r\n    SidebarMenu\r\n} from \"./SidebarCss\";\r\nimport AuthContext from \"../../../Context/auth/authContext\";\r\nimport {FaUser} from \"react-icons/all\";\r\nimport {NavBtn, NavBtnLink, NavBtnLinkDiv} from \"../NavbarElements\";\r\nimport {toast} from \"react-toastify\";\r\n\r\nconst Sidebar = ({isOpen,toggle}) => {\r\n    const authContext=useContext(AuthContext);\r\n    const {isAuthenticated,logout}=authContext;\r\n    const logMeOut=()=>{\r\n        toast.success(\"You have been logged out\", {\r\n            position: \"top-center\",\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n        });\r\n        logout()\r\n    }\r\n    return (\r\n        <SidebarContainer isOpen={isOpen} >\r\n            <Icon onClick={toggle}>\r\n                <CloseIcon/>\r\n            </Icon>\r\n            <SidebarWrapper >\r\n                <SidebarMenu>\r\n                    <SidebarLink to='/'>Requests</SidebarLink>\r\n                    <SidebarLink to='/donors'>Donors</SidebarLink>\r\n                    <SidebarLink to='/request'>Request For a Blood</SidebarLink>\r\n                </SidebarMenu>\r\n                <SideBtnWrap style={{marginRight:15}}>\r\n                    {isAuthenticated ? (<NavBtnLinkDiv onClick={logMeOut}>Logout</NavBtnLinkDiv>) :\r\n                        (<NavBtnLink to='/login'><FaUser style={{marginRight:10}} />Sign In / Signup</NavBtnLink>)}\r\n                    {isAuthenticated&&<NavBtnLink to='/requests' margin={true} >My Requests</NavBtnLink>}\r\n\r\n                </SideBtnWrap>\r\n\r\n            </SidebarWrapper>\r\n        </SidebarContainer>\r\n    );\r\n};\r\n\r\nexport default Sidebar;","import React,{useEffect,useContext,useState,Suspense,lazy} from 'react'\r\nimport './App.css';\r\nimport Navbar from \"./Components/Navbar/Navbar\";\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\n\r\nimport {ToastContainer} from \"react-toastify\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {ReactQueryDevtools} from 'react-query/devtools'\r\nimport {\r\n    QueryClient,\r\n    QueryClientProvider,\r\n} from \"react-query\";\r\nimport AuthContext from \"./Context/auth/authContext\";\r\nimport Sidebar from \"./Components/Navbar/Sidebar/Sidebar\";\r\nconst ProfilePage=lazy(()=>import('./Components/pages/Profile/ProfilePage'))\r\nconst Requests=lazy(()=>import('./Components/pages/requests/Requests'))\r\nconst UserPage=lazy(()=>import('./Components/pages/Profile/UserPage'))\r\nconst ListOfRequests=lazy(()=>import('./Components/pages/LoggedIn/ListOfRequests'))\r\nconst Donors=lazy(()=>import('./Components/pages/donors/Donors'))\r\nconst ChangeImage=lazy(()=>import('./Components/pages/ChangeImage/ChangeImage'))\r\nconst RequestBloodForm=lazy(()=>import('./Components/pages/bloodRequest/RequestBloodForm'))\r\nconst ListOfDonors=lazy(()=>import('./Components/pages/LoggedIn/ListOfDonors'))\r\nconst Auth=lazy(()=>import('./Components/Auth/Auth'))\r\n\r\nconst queryClient = new QueryClient()\r\n\r\nfunction App() {\r\n    const authContext=useContext(AuthContext);\r\n    const {loadUser,logout}=authContext;\r\n    const[isOpen,setIsOpen]=useState(false)\r\n    const toggle=()=>{\r\n        setIsOpen(isOpen=>!isOpen)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        loadUser()\r\n    },[])//fires load user everytime the page reloads\r\n    return (\r\n        <QueryClientProvider client={queryClient}>\r\n            <div className=\"App\">\r\n                <Router>\r\n                    <Sidebar isOpen={isOpen} toggle={toggle}/>\r\n                    <Navbar toggle={toggle} />\r\n                    <ToastContainer/>\r\n                    <Switch>\r\n                        <Suspense fallback={<div>. </div>}>\r\n                      <Route exact path='/'  component={Requests}/>\r\n                        <Route path='/login' exact component={Auth}/>\r\n                        <Route path={'/request'} exact component={RequestBloodForm}/>\r\n                        <Route path={'/donors'} exact component={Donors}/>\r\n                        <Route path={'/help/:id'} exact component={ProfilePage}/>\r\n                        <Route path={'/user/:id'} exact component={UserPage}/>\r\n                        <Route path={'/requests'} exact component={ListOfRequests}/>\r\n                        <Route path={'/requests/:id'} exact component={ListOfDonors}/>\r\n                        <Route path={'/ChangePhoto/:id'} exact component={ChangeImage}/>\r\n                        </Suspense>\r\n                    </Switch>\r\n                </Router>\r\n                {/* <ReactQueryDevtools initialIsOpen={false}/> */}\r\n\r\n            </div>\r\n\r\n        </QueryClientProvider>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","export const SET_CURRENT = 'SET_CURRENT';\r\nexport const CLEAR_CURRENT = 'CLEAR_CURRENT';\r\nexport const SET_ALERT = 'SET_ALERT';\r\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\r\nexport const REGISTER_FAIL = 'REGISTER_FAIL';\r\nexport const USER_LOADED = 'USER_LOADED';\r\nexport const AUTH_ERROR = 'AUTH_ERROR';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\r\nexport const REQUEST_BLOOD='REQUEST_BLOOD';\r\nexport const ERROR='ERROR';\r\nexport const CLEAR_BLOODS_REQUESTS='CLEAR_BLOODS_REQUESTS';\r\nexport const AUTH_ERROR_GET_ME='AUTH_ERROR_GET_ME';\r\nexport const GET_DONORS='GET_DONORS';\r\nexport const GET_BLOOD_REQUESTS='GET_BLOOD_REQUESTS';\r\n","import {\r\n  REGISTER_SUCCESS,\r\n  REGISTER_FAIL,\r\n  USER_LOADED,\r\n  AUTH_ERROR,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOGOUT,\r\n  CLEAR_ERRORS, AUTH_ERROR_GET_ME\r\n} from '../types';\r\n\r\nexport default (state, action) => {\r\n  switch (action.type) {\r\n    case USER_LOADED:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        loading: false,\r\n        user: action.payload\r\n      };\r\n    case REGISTER_SUCCESS:\r\n    case LOGIN_SUCCESS:\r\n      localStorage.setItem('token', action.payload.token);\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        isAuthenticated: true,\r\n        loading: false\r\n      };\r\n    case AUTH_ERROR_GET_ME:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        user: null,\r\n        error: action.payload\r\n      };\r\n    case REGISTER_FAIL:\r\n    case AUTH_ERROR:\r\n    case LOGIN_FAIL:\r\n    case LOGOUT:\r\n      localStorage.removeItem('token');\r\n      return {\r\n        ...state,\r\n        token: null,\r\n        isAuthenticated: false,\r\n        loading: false,\r\n        user: null,\r\n        error: action.payload\r\n      };\r\n    case CLEAR_ERRORS:\r\n      return {\r\n        ...state,\r\n        error: null\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","\r\nimport axios from 'axios';\r\nconst setAuthToken=token=>{\r\n    console.log(token)\r\n    if(token){\r\n        //adding token to the headers\r\n        axios.defaults.headers.common['Authorization']=`Bearer ${token}`;\r\n    }else{\r\n        //removing token from the headers\r\n        delete axios.defaults.headers.common['Authorization']\r\n    }\r\n}\r\nexport default setAuthToken;","import React, { useReducer } from 'react';\r\nimport axios from 'axios';\r\nimport AuthContext from './authContext';\r\nimport authReducer from './authReducer';\r\nimport setAuthToken from '../../util/setAuthToken';\r\nimport {\r\n  REGISTER_SUCCESS,\r\n  REGISTER_FAIL,\r\n  USER_LOADED,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOGOUT,\r\n  CLEAR_ERRORS, AUTH_ERROR_GET_ME, ERROR\r\n} from '../types';\r\n\r\nconst AuthState = props => {\r\n\r\n  const initialState = {\r\n    token: localStorage.getItem('token'),\r\n    isAuthenticated: null,\r\n    loading: true,\r\n    user: null,\r\n    error: null\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(authReducer, initialState);\r\n\r\n  // Load User\r\n  const loadUser = async () => {\r\n    setAuthToken(localStorage.getItem('token'));\r\n    try {\r\n      const res = await axios.get('/api/auth/me');\r\n      dispatch({\r\n        type: USER_LOADED,\r\n        payload: res.data.data\r\n      });\r\n    } catch (err) {\r\n      dispatch({ type: AUTH_ERROR_GET_ME });\r\n    }\r\n  };\r\n\r\n  // Register User\r\n  const register = async formData => {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post('/api/auth/register', formData, config);\r\n\r\n      dispatch({\r\n        type: REGISTER_SUCCESS,\r\n        payload: res.data?.token\r\n      });\r\n\r\n      await loadUser();\r\n    } catch (err) {\r\n      dispatch({\r\n        type: REGISTER_FAIL,\r\n        payload: err.response.data.error\r\n      });\r\n    }\r\n  };\r\n\r\n  // Login User\r\n  const login = async formData => {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post('/api/auth/login', formData, config);\r\n\r\n      dispatch({\r\n        type: LOGIN_SUCCESS,\r\n        payload: res.data\r\n      });\r\n\r\n      await loadUser();\r\n    } catch (err) {\r\n      dispatch({\r\n        type: LOGIN_FAIL,\r\n        payload: err.response.data.error\r\n      });\r\n    }\r\n  };\r\n\r\n\r\n  // Logout\r\n  const logout = () => dispatch({ type: LOGOUT });\r\n\r\n  // Clear Errors\r\n  const clearErrors = () => dispatch({ type: CLEAR_ERRORS });\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        token: state.token,\r\n        isAuthenticated: state.isAuthenticated,\r\n        loading: state.loading,\r\n        user: state.user,\r\n        error: state.error,\r\n        register,\r\n        loadUser,\r\n        login,\r\n        logout,\r\n        clearErrors\r\n      }}\r\n    >\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthState;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport AuthState from \"./Context/auth/AuthState\";\r\nimport {QueryClientProvider} from \"react-query\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <AuthState><App /></AuthState>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}