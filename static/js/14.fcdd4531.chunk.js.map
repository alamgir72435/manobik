{"version":3,"sources":["Components/pages/Profile/ProfilePageCss.js","Components/_shared/ImageModal.js","Components/pages/Profile/ProfilePage.js","Components/_shared/CentralizeDiv.js","Components/sharedUtils/utils.js"],"names":["ProfilePageCSS","styled","div","ImageModal","open","setOpen","imageLink","onClose","center","src","alt","style","width","ProfilePage","useState","authContext","useContext","AuthContext","isAuthenticated","login","loadUser","error","setError","id","useParams","fetchDonors","a","axios","response","data","useQuery","refetchAllOnWindowFocus","status","offerHelp","post","_id","onClick","toast","warn","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","success","CentralizeDiv","SpinnerInfinity","size","thickness","speed","color","secondaryColor","getSizedImageURL","image","className","name","bloodType","email","phone","message","hospitalName","travel","district","createdAt","slice","marginRight","imageName","height","extension","exec","ImageInitialName","replace","e"],"mappings":"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","file":"static/js/14.fcdd4531.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\nexport const ProfilePageCSS=styled.div`\r\n\r\n  * {\r\n    list-style: none;\r\n\r\n\r\n  }\r\n\r\n  .wrapper {\r\n    margin: 20px auto;\r\n    width: 80%;\r\n    display: flex;\r\n    overflow: hidden;\r\n    box-shadow: 0 1px 20px 0 rgba(69, 90, 100, .08);\r\n    @media (max-width: 1000px) {\r\n      margin: 0;\r\n      width: 95%;\r\n    }\r\n    @media (max-width: 751px) {\r\n      flex-direction: column;\r\n    }\r\n    @media (max-width: 400px) {\r\n      margin: 0;\r\n      width: 100%;\r\n    }\r\n\r\n  }\r\n\r\n  .wrapper .left {\r\n    width: 35%;\r\n    background: linear-gradient(to right, #ac0101, #df018e);\r\n    padding: 30px 25px;\r\n    border-top-left-radius: 5px;\r\n    border-bottom-left-radius: 5px;\r\n    text-align: center;\r\n    color: #fff;\r\n\r\n    @media (max-width: 751px) {\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  .wrapper .left img {\r\n    width: 100%;\r\n    border-radius: 5px;\r\n    margin: 0 auto;\r\n    @media (max-width: 751px) {\r\n      width: 60%;\r\n    }\r\n  }\r\n\r\n  .wrapper .left h4 {\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .wrapper .left p {\r\n    font-size: 20px;\r\n  }\r\n\r\n  .wrapper .right {\r\n    width: 65%;\r\n    background: #fff;\r\n    padding: 30px 25px;\r\n    border-top-right-radius: 5px;\r\n    border-bottom-right-radius: 5px;\r\n    @media (max-width: 751px) {\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  .wrapper .right .info,\r\n  .wrapper .right .projects {\r\n    margin-bottom: 25px;\r\n    font-size: 20px;\r\n  }\r\n\r\n\r\n  .wrapper .right .info h3,\r\n  .wrapper .right .projects h3 {\r\n    margin-bottom: 15px;\r\n    padding-bottom: 5px;\r\n    border-bottom: 1px solid #e0e0e0;\r\n    color: #353c4e;\r\n    text-transform: uppercase;\r\n    letter-spacing: 5px;\r\n  }\r\n\r\n  .wrapper .right .info_data,\r\n  .wrapper .right .projects_data {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    @media (max-width: 1000px) {\r\n      flex-direction: column;\r\n    }\r\n  }\r\n\r\n  .wrapper .right .info_data .data,\r\n  .wrapper .right .projects_data .data {\r\n    width: 100%;\r\n  }\r\n\r\n  .wrapper .right .info_data .data h4,\r\n  .wrapper .right .projects_data .data h4 {\r\n    color: #353c4e;\r\n    margin-bottom: 5px;\r\n  }\r\n\r\n  .wrapper .right .info_data .data p,\r\n  .wrapper .right .projects_data .data p {\r\n    font-size: 20px;\r\n    margin-bottom: 10px;\r\n    color: #919aa3;\r\n\r\n  }\r\n\r\n  .offer-help-container {\r\n    width: 100%;\r\n    height: 45px;\r\n    display: flex;\r\n    justify-content: center;\r\n    background: linear-gradient(to right, #fffc00, #fffc00);\r\n    margin-right: 10px;\r\n    margin-top:20px;\r\n    border-radius: 5px;\r\n    text-align: center;\r\n    line-height: 45px;\r\n    color: #353c4e;\r\n    text-transform: uppercase;\r\n    letter-spacing: 5px;\r\n\r\n    &:hover {\r\n      cursor: pointer;\r\n    }\r\n\r\n    svg {\r\n      //margin-left: 30%;\r\n      color: #D40871;\r\n    }\r\n\r\n  }\r\n\r\n\r\n`","import React from 'react';\r\nimport 'react-responsive-modal/styles.css';\r\nimport { Modal } from 'react-responsive-modal';\r\n\r\nconst ImageModal = ({open,setOpen,imageLink}) => {\r\n\r\n\r\n    const onCloseModal = () => setOpen(false);\r\n    return (\r\n        <Modal open={open} onClose={onCloseModal} center>\r\n            <img src={imageLink} alt=\"zoomed picture\" style={{width:\"100%\"}}/>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default ImageModal;","import React, {useContext,useState} from 'react';\r\nimport {ProfilePageCSS} from \"./ProfilePageCss\";\r\nimport {useParams} from \"react-router\";\r\nimport axios from \"axios\";\r\nimport {useQuery} from \"react-query\";\r\nimport {SpinnerInfinity} from \"spinners-react\";\r\nimport {CentralizeDiv} from \"../../_shared/CentralizeDiv\";\r\nimport {toast} from \"react-toastify\";\r\nimport {FaHandsHelping} from \"react-icons/all\";\r\nimport AuthContext from \"../../../Context/auth/authContext\";\r\nimport {getSizedImageURL} from \"../../sharedUtils/utils\";\r\nimport Zoom from 'react-medium-image-zoom'\r\nimport 'react-medium-image-zoom/dist/styles.css'\r\nimport ImageModal from \"../../_shared/ImageModal\";\r\n\r\nconst ProfilePage = () => {\r\n    const [open,setOpen]=useState(false)\r\n    const authContext=useContext(AuthContext);\r\n    const {login,isAuthenticated,loadUser}=authContext;\r\n    const[error,setError]=useState()\r\n    const {id}=useParams()\r\n    const fetchDonors = async () => {\r\n        const response = await axios(\r\n            `/api/help/${id}`\r\n        );\r\n        return response.data.data;\r\n    }\r\n    const { status, data } = useQuery(id, fetchDonors, {\r\n        refetchAllOnWindowFocus: false\r\n    });\r\n    const offerHelp=async ()=>{\r\n        try {\r\n             await axios.post(`/api/auth/offer/${data._id}`);\r\n        }catch (e){\r\n            setError(e.response.data.error)\r\n        }\r\n    }\r\n    const onClick=async ()=>{\r\n        if(isAuthenticated){\r\n            await offerHelp()\r\n            if(!error){\r\n                toast.success(\"You have offered the help from your part!Thank You!\", {\r\n                    position: \"top-center\",\r\n                    autoClose: 1000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n            }\r\n            else {\r\n                toast.warn(error, {\r\n                    position: \"top-center\",\r\n                    autoClose: 2000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n            }\r\n\r\n        }\r\n        else {\r\n            toast.warn(\"You must be logged in to offer help. Why not signup?\", {\r\n                position: \"top-center\",\r\n                autoClose: 2000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            });\r\n        }\r\n    }\r\n    if(status==='loading'){\r\n        return (\r\n            <CentralizeDiv>\r\n                <SpinnerInfinity size={150} thickness={100} speed={200} color=\"#D31027\" secondaryColor=\"rgba(0, 0, 0, 0.44)\" />\r\n            </CentralizeDiv>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <ProfilePageCSS>\r\n            <ImageModal open={open} imageLink={getSizedImageURL(data?.image)} setOpen={setOpen}/>\r\n            <div className=\"wrapper\" >\r\n                <div className=\"left\">\r\n                    <img onClick={()=>{setOpen(true)}} src={getSizedImageURL(data?.image)}\r\n                         alt=\"user\" width=\"100\"/>\r\n                        <h4>{data.name}\r\n                        </h4>\r\n                        <h3>{data.bloodType}</h3>\r\n                </div>\r\n                <div className=\"right\">\r\n                    <div className=\"info\">\r\n                        <h3>Information</h3>\r\n                        <div className=\"info_data\">\r\n                            <div className=\"data\">\r\n                                <h4>Email</h4>\r\n                                <p>{data.email}</p>\r\n                            </div>\r\n                            <div className=\"data\">\r\n                                <h4>Phone</h4>\r\n                                <p>+88{data.phone}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"More details\">\r\n                        <h3>Message</h3>\r\n                        <div className=\"data\">\r\n                            <p>{data.message}</p>\r\n                        </div>\r\n                        <div className=\"projects_data\">\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"More Info\">\r\n                        <div className=\"projects_data\">\r\n                            <div className=\"data\">\r\n                                <h4>Hospital Name</h4>\r\n                                <p>{data.hospitalName}</p>\r\n                            </div>\r\n                            <div className=\"data\">\r\n                                <h4>Travel Cost</h4>\r\n                                <p>{data.travel?'Travel costs will be paid by requester':'Travel costs will not be paid by requester'}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"More Info\">\r\n                        <div className=\"projects_data\">\r\n                            <div className=\"data\">\r\n                                <h4>Upozila Or Union Name</h4>\r\n                                <p>{data.district}</p>\r\n                            </div>\r\n                            <div className=\"data\">\r\n                                <h4>Date Requested</h4>\r\n                                <p>{data.createdAt.slice(0,10)}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                        <div className={\"offer-help-container\"} onClick={onClick}><FaHandsHelping size={\"3em\"} style={{marginRight:10}}></FaHandsHelping> Offer A Help</div>\r\n\r\n                </div>\r\n            </div>\r\n        </ProfilePageCSS>\r\n\r\n    );\r\n};\r\n\r\nexport default ProfilePage;","import styled from \"styled-components\";\r\nexport const CentralizeDiv=styled.div`\r\n  display: block;\r\n  text-align: center;\r\n  margin: 40px auto auto;\r\n\r\n\r\n  \r\n\r\n`","export const getSizedImageURL=(imageName,width,height)=>{\r\n    try {\r\n        if(width===undefined||height==undefined){\r\n            return `/uploads/${imageName}`\r\n        }\r\n        const re = /(?:\\.([^.]+))?$/;\r\n        const extension = re.exec(imageName)[0]\r\n        const ImageInitialName = imageName.replace(extension, '')\r\n        return `/uploads/${ImageInitialName}_${width}x${height}${extension}`\r\n    }catch (e){\r\n        return `/uploads/noProfile.png`\r\n    }\r\n}"],"sourceRoot":""}